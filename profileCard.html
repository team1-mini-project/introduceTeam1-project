<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E1I5조 우리 팀을 소개해요</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/layout.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
</head>

<body>
  <div id="box2" class="profileCards">
    <!-- 프로필 카드 6장 시작-->
    <div class="profileCards">
      <div id="profileCards" class="row row-cols-1 row-cols-md-3 g-4">
        
        <!-- 프로필 카드 1번 -->
        <div class="col cardEach profile-card">
          <div class="card h-100">
            <!-- 이미지 변경, 더보기 버튼 -->
            <div class="cardBtn1">
              <div class="cardId hide" data-id="1">id : 1</div>
              <button type="button" class="imgbtn">이미지 변경</button>
              <button type="button" class="morebtn">더보기</button>
            </div>
            <!-- 프로필 이미지 -->
            <img src="./images/profile-gih.jpg" class="card-img-top" alt="..." style="display: block; ">
            <!-- 프로필 소개 -->
            <div class="card-body" style="padding: 0px;">
              <h5 class="card-title">이름 : 곽인해</h5>
              <p class="card-text">비전공자에서 전문가가 되는 그날까지 달려보자 파이팅입니다!</p>
            </div>
            <!-- url 버튼 -->
            <div class="profileBtn">
              <a href="javascript:;" class="velog"><img class="btnImg" src="./images/icon-tistory.png" alt=""></a>
              <a href="https://velog.io/@innes_kwak" target="_blank"><img class="btnImg" src="./images/icon-velog.png"
                  alt=""></a>
              <a href="https://github.com/innes-k" target="_blank"><img class="btnImg" src="./images/icon-github.png"
                  alt=""></a>
            </div>
          </div>
        </div>
        <!-- 프로필 카드 2번 -->
        <div class="col cardEach">
          <div class="card h-100">
            <!-- 이미지 변경, 더보기 버튼 -->
            <div class="cardBtn1">
              <div class="cardId hide" data-id="2">id : 2</div>
              <button type="button" class="imgbtn">이미지 변경</button>
              <button type="button" class="morebtn">더보기</button>
            </div>
            <!-- 프로필 이미지 -->
            <img src="./images/profile-sjw.png" class="card-img-top" alt="..." style="display: block; ">
            <!-- 프로필 소개 -->
            <div class="card-body" style="padding: 0px;">
              <h5 class="card-title">이름 : 서지원</h5>
              <p class="card-text">안녕하세요. 고양이 두 마리 키우는 프론트엔드 개발자 서지원입니다.</p>
            </div>
            <!-- url 버튼 -->
            <div class="profileBtn">
              <a href="javascript:;" class="velog"><img class="btnImg" src="./images/icon-tistory.png" alt=""></a>
              <a href="https://velog.io/@jiwon4692" target="_blank"><img class="btnImg" src="./images/icon-velog.png"
                  alt=""></a>
              <a href="https://github.com/seopport" target="_blank"><img class="btnImg" src="./images/icon-github.png"
                  alt=""></a>
            </div>
          </div>
        </div>
        <!-- 프로필 카드 3번 -->
        <div class="col cardEach">
          <div class="card h-100">
            <!-- 이미지 변경, 더보기 버튼 -->
            <div class="cardBtn1">
              <div class="cardId hide" data-id="3">id : 3</div>
              <button type="button" class="imgbtn">이미지 변경</button>
              <button type="button" class="morebtn">더보기</button>
            </div>
            <!-- 프로필 이미지 -->
            <img src="./images/profile-nhr.jpg" class="card-img-top" alt="..." style="display: block; ">
            <!-- 프로필 소개 -->
            <div class="card-body" style="padding: 0px;">
              <h5 class="card-title">이름 : 남해리</h5>
              <p class="card-text">안녕하세요. 재즈를 좋아하는 프론트엔드 개발자 남해리입니다.</p>
            </div>
            <!-- url 버튼 -->
            <div class="profileBtn">
              <a href="https://record4me.tistory.com/" target="_blank"><img class="btnImg"
                  src="./images/icon-tistory.png" alt=""></a>
              <a href="javascript:;" class="tistory"><img class="btnImg" src="./images/icon-velog.png" alt=""></a>
              <a href="https://github.com/r03181231" target="_blank"><img class="btnImg" src="./images/icon-github.png"
                  alt=""></a>
            </div>
          </div>
        </div>
        <!-- 프로필 카드 4번 -->
        <div class="col cardEach">
          <div class="card h-100">
            <!-- 이미지 변경, 더보기 버튼 -->
            <div class="cardBtn1">
              <div class="cardId hide" data-id="4">id : 4</div>
              <button type="button" class="imgbtn">이미지 변경</button>
              <button type="button" class="morebtn">더보기</button>
            </div>
            <!-- 프로필 이미지 -->
            <img src="./images/profile-kjm.jpg" class="card-img-top" alt="..." style="display: block; ">
            <!-- 프로필 소개 -->
            <div class="card-body" style="padding: 0px;">
              <h5 class="card-title">이름 : 김지민</h5>
              <p class="card-text">안녕하세요. 뭐든지 열심히 배우려고 노력하는
                프론트엔드 개발자 김지민입니다.</p>
            </div>
            <!-- url 버튼 -->
            <div class="profileBtn">
              <a href="javascript:;" class="velog"><img class="btnImg" src="./images/icon-tistory.png" alt=""></a>
              <a href="https://velog.io/@dev_109" target="_blank"><img class="btnImg" src="./images/icon-velog.png"
                  alt=""></a>
              <a href="https://github.com/gggimmmin" target="_blank"><img class="btnImg" src="./images/icon-github.png"
                  alt=""></a>
            </div>
          </div>
        </div>
        <!-- 프로필 카드 5번 -->
        <div class="col cardEach">
          <div class="card h-100">
            <!-- 이미지 변경, 더보기 버튼 -->
            <div class="cardBtn1">
              <div class="cardId hide" data-id="5">id : 5</div>
              <button type="button" class="imgbtn">이미지 변경</button>
              <button type="button" class="morebtn">더보기</button>
            </div>
            <!-- 프로필 이미지 -->
            <img src="./images/profile-psj.jpg" class="card-img-top" alt="..." style="display: block; ">
            <!-- 프로필 소개 -->
            <div class="card-body" style="padding: 0px;">
              <h5 class="card-title">이름 : 박상준</h5>
              <p class="card-text">안녕하세요. 판다를 좋아하는 프론트엔드 개발자 박상준입니다.</p>
            </div>
            <!-- url 버튼 -->
            <div class="profileBtn">
              <a href="https://tearcode.tistory.com/" target="_blank"><img class="btnImg"
                  src="./images/icon-tistory.png" alt=""></a>
              <a href="javascript:;"><img class="btnImg" src="./images/icon-velog.png" alt=""></a>
              <a href="https://github.com/byjun8932" target="_blank"><img class="btnImg" src="./images/icon-github.png"
                  alt=""></a>
            </div>
          </div>
        </div>
        <!-- 프로필 카드 6번 -->
        <div class="col cardEach">
          <div class="card h-100">
            <!-- 이미지 변경, 더보기 버튼 -->
            <div class="cardBtn1">
              <div class="cardId hide" data-id="6">id : 6</div>
              <button type="button" class="imgbtn">이미지 변경</button>
              <button type="button" class="morebtn">더보기</button>
            </div>
            <!-- 프로필 이미지 -->
            <img src="./images/profile-kjs.jpg" class="card-img-top" alt="..." style="display: block; ">
            <!-- 프로필 소개 -->
            <div class="card-body" style="padding: 0px;">
              <h5 class="card-title">이름 : 강지수</h5>
              <p class="card-text">안녕하세요 짱구를 좋아하는 프론트엔드 개발자 강지수입니다.</p>
            </div>
            <!-- url 버튼 -->
            <div class="profileBtn">
              <a href="https://jigico.tistory.com/" target="_blank"><img class="btnImg" src="./images/icon-tistory.png"
                  alt=""></a>
              <a href="javascript:;" class="tistory"><img class="btnImg" src="./images/icon-velog.png" alt=""></a>
              <a href="https://github.com/jigico" target="_blank"><img class="btnImg" src="./images/icon-github.png"
                  alt=""></a>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </div>

  <script type="module">
    // Firebase SDK 라이브러리 가져오기
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import {
      FieldPath,
      documentId,
      getDocs,
      getDoc,
      orderBy,
      where,
      collection,
      addDoc,
      query,
      doc,
      onSnapshot,
    } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDcTZVdy8HlTssTG_RqzqY0LTb578HrO6o",
      authDomain: "team-project1-c1b38.firebaseapp.com",
      projectId: "team-project1-c1b38",
      storageBucket: "team-project1-c1b38.appspot.com",
      messagingSenderId: "30366087131",
      appId: "1:30366087131:web:1525015b96f48440b199fe",
      measurementId: "G-8G2XQGWYB6"
    };

    // Firebase 인스턴스 초기화
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    //컬렉션 가져오기
    // let docs = await getDocs(collection(db, "profile"));
    // docs.forEach((doc) => {
    //   let row = doc.data();
    //   console.log(row);
    // });

    // //문서 가져오기
    // const docRef = doc(db, "profile", "2");
    // const docSnap = await getDoc(docRef);
    // const profileColl = docSnap.data();
    // console.log(profileColl);

    //forEach로 카드 붙여보기
    let docs = await getDocs(collection(db, "profile"));
    docs.forEach((doc) => {
      let row = doc.data();
      console.log(row);

      let id = row['id'];
      let image = row['img'];
      let name = row['name'];
      let introduce = row['introduce'];
      let tistory = row['tistory'];
      let velog = row['velog'];
      let github = row['github'];

      let card_html = `
      <div class="col cardEach">
          <div class="card h-100">
            <!-- 이미지 변경, 더보기 버튼 -->
            <div class="cardBtn1">
              <div class="cardId hide" data-id="5">id : 5</div>
              <button type="button" class="imgbtn">이미지 변경</button>
              <button type="button" class="morebtn">더보기</button>
            </div>
            <!-- 프로필 이미지 -->
            <img src="${image}" alt="..." style="display: block; ">
            <!-- 프로필 소개 -->
            <div class="card-body" style="padding: 0px;">
              <h5 class="card-title">이름 : ${name}</h5>
              <p class="card-text">${introduce}</p>
            </div>
            <!-- url 버튼 -->
            <div class="profileBtn">
              <a href="${tistory}" class="velog" target="_blank"><img class="btnImg"
                  src="./images/icon-tistory.png" alt=""></a>
              <a href="${velog}" class="tistory" target="_blank"><img class="btnImg" src="./images/icon-velog.png" alt=""></a>
              <a href="${github}" target="_blank"><img class="btnImg" src="./images/icon-github.png"
                  alt=""></a>
            </div>
          </div>
        </div>`;


      if (tistory === 'javascript:;') {
        $(document).on('click', '.velog', function () {
          console.log("반응 테스트");
        });

        // $('.velog').click(async function () {
        //   alert('📘 저는 velog를 사용합니다. 📘');
        // })
      } else if (velog === 'javascript:;') {
        $('.tistory').click(async function () {
          alert('📙 저는 tistory를 사용합니다. 📙');
        })
      }


      $('#profileCards').append(card_html);
    });


    //시도 1
    // $(document).on('click', '.velog', function () {
    //   console.log("반응 테스트");
    // });

    // 시도 2
    // $('body').on('click', '#velog a', function (e) {
    //   e.preventDefault();
    //   $('#velog').tab('show');
    // });

    // 시도 3
    // $(profileCards).on('click', '.velog', function () {
    //   console.log("반응 테스트");
    // });

    // 블로그 타입 alert
    // $('.velog').click(async function () {
    //   alert('📘 저는 velog를 사용합니다. 📘');
    // })

    // $('.tistory').click(async function () {
    //   alert('📙 저는 tistory를 사용합니다. 📙');
    // })

  </script>
</body>

</html>